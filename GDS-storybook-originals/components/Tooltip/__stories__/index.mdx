import { Meta, Canvas, ArgTypes } from "@storybook/addon-docs/blocks";
import * as stories from "./index.stories";
import Tooltip from "..";

<Meta title="Components/Tooltip" component={Tooltip} />

# Tooltip

`import { Tooltip } from '@ticketmaster/global-design-system';`

**FYI: Tooltips are against best practices, see [link](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/tooltip_role#best_practices) for best practices**

<ArgTypes of={Tooltip} />

A tooltip is a display that is shown by hovering or clicking the TooltipWrapper div container. Tooltips are often used to give more information for the user without taking up permanent room on the page.

## Actions

The developer has the option to show/hide the tooltip through a click event, hover event, or both. To enable the click event, make sure that `enableClick` prop is set to true. To enable the hover event, make sure that `enableHover` prop is set to true.

The action events are set on the div container to allow the user to pass the button/link component into the `children` prop. An IconButton is the most common option to pass into this `children` prop.

If no position is set, the tooltip will default to the top and center position of the wrapped component, but will adjust accordingly depending on the position of the wrapped component and on the screen.

## Accessibility

You need to generate a unique id and pass it as the `id` prop, and make sure it is also set as the `aria-describedby` attribute on the tooltip trigger component like so:

```
<Tooltip {...props} id={id}>
  <IconButton aria-describedby={id}>
    <InfoICircledIcon />
  </IconButton>
</Tooltip>
```

If the tooltip needs to display on a disabled button, make sure to add `aria-disabled` instead of `disabled` to the button to allow the screen reader to tab into the button.

The tooltip position also auto updates to a visible position when the tooltip is out of view of the window.

## Testing

Unit test for overriding the position of the tooltip is not feasible as it is a chicken and egg situation. When altering this code, please use caution as there are no test scenarios for override.

## Customisation

There may be situations where the tooltip needs customisation. In such cases, the tooltip body and arrow tip can be used to wrap around a div. The position of the arrow tip can be adjusted by accessing its ref element. For an example of how this works, refer to the usage of a custom tooltip with offset.

## Basic

<Canvas of={stories.Basic} />

## Start Bottom

<Canvas of={stories.StartBottom} />

## Centre Bottom

<Canvas of={stories.CentreBottom} />

## End Bottom

<Canvas of={stories.EndBottom} />

## Start Top

<Canvas of={stories.StartTop} />

## Centre Top

<Canvas of={stories.CentreTop} />

## End Top

<Canvas of={stories.EndTop} />
